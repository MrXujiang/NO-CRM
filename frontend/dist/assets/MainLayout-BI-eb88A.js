import{d as V,r as y,k as lt,b as c,c as C,p as O,m as P,h as t,w as n,e as s,i as a,F as G,f as X,s as Y,v as Z,T as at,M as j,x as rt,o as f,t as M,y as ct,_ as U,u as dt,j as ut,a as mt,z as pt,A as vt}from"./index-BQBF81MK.js";import{s as gt}from"./statistics-5qbaCSeu.js";import{c as ft}from"./customer-C3qg_G_a.js";import{o as bt}from"./order-kzB7aZ2c.js";const _t="/assets/logo-CHwHR9Nt.png",ht={class:"ai-assistant"},kt={class:"chat-header"},wt={class:"header-left"},yt={class:"header-info"},$t={class:"status"},xt={class:"header-actions"},Ct={key:0,class:"quick-actions"},zt={class:"action-cards"},At={key:0,class:"assistant-message"},Tt={class:"message-content"},Mt={class:"message-bubble assistant-bubble"},St=["innerHTML"],Pt={class:"message-time"},Lt={key:1,class:"user-message"},Nt={class:"message-content"},It={class:"message-bubble user-bubble"},Ot=["innerHTML"],qt={class:"message-time"},Bt={key:0,class:"message-item assistant"},Dt={class:"assistant-message"},Ht={class:"message-content"},Rt={class:"message-bubble assistant-bubble"},Vt={class:"chat-input-wrapper"},jt={class:"input-container"},Ut={class:"input-tips"},Ft={class:"tip-item"},Et={class:"tip-item"},Jt=V({__name:"AIAssistant",setup(F){const b=y(!1),v=y(""),g=y([]),_=y(!1),A=y(0),z=y(),T=lt(()=>{const r=localStorage.getItem("user");return r?JSON.parse(r):null}),e=[{id:"stats",icon:"chart-pie",text:"查看数据概览"},{id:"customer",icon:"user",text:"客户统计分析"},{id:"order",icon:"file-paste",text:"订单业绩分析"},{id:"help",icon:"help-circle",text:"系统使用帮助"}],l=()=>{b.value=!b.value,b.value&&(A.value=0)},o=()=>{g.value=[],j.success("对话已清空")},d=async r=>{switch(r.id){case"stats":await k("帮我分析一下当前的数据概览");break;case"customer":await k("分析一下客户数据");break;case"order":await k("订单业绩情况如何？");break;case"help":await k("如何使用系统？");break}},u=async()=>{v.value.trim()&&(await k(v.value),v.value="")},k=async r=>{g.value.push({role:"user",content:r,timestamp:new Date().toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})}),S(),_.value=!0;try{const i=await w(r);g.value.push({role:"assistant",content:i,timestamp:new Date().toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})})}catch{g.value.push({role:"assistant",content:"抱歉，我遇到了一些问题，请稍后再试。",timestamp:new Date().toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})})}finally{_.value=!1,S()}},w=async r=>{const i=r.toLowerCase();return i.includes("数据")||i.includes("概览")||i.includes("统计")?await $():i.includes("客户")?await h():i.includes("订单")||i.includes("业绩")?await q():i.includes("帮助")||i.includes("如何")||i.includes("怎么")?D(r):H()},$=async()=>{var r;try{const i=await gt.getOverview();return`📊 <strong>数据概览</strong><br><br>
      • 客户总数：<strong>${i.totalCustomers}</strong> 个<br>
      • 线索总数：<strong>${i.totalLeads}</strong> 个<br>
      • 跟进记录：<strong>${i.totalActivities}</strong> 条<br>
      • 任务总数：<strong>${i.totalTasks}</strong> 个<br><br>
      
      📈 <strong>趋势分析</strong><br>
      最近7天客户增长趋势良好，${((r=i.recentTrend[6])==null?void 0:r.customers)||0} 个新客户加入。<br><br>
      
      💡 <strong>建议</strong><br>
      ${i.totalLeads>0?"有 "+i.totalLeads+" 个线索待跟进，建议及时联系！":"暂无待跟进线索"}`}catch{return"获取数据概览失败，请检查网络连接。"}},h=async()=>{try{const i=(await ft.getAll(void 0,1,1e3)).data||[];if(i.length===0)return"📭 当前还没有客户数据，建议先创建一些客户。";const m=i.filter(x=>x.status==="active").length,N=i.filter(x=>x.status==="inactive").length;return`👥 <strong>客户分析报告</strong><br><br>
      • 总客户数：<strong>${i.length}</strong><br>
      • 活跃客户：<strong>${m}</strong> (${(m/i.length*100).toFixed(1)}%)<br>
      • 非活跃客户：<strong>${N}</strong><br><br>
      
      💡 <strong>洞察建议</strong><br>
      ${m>i.length*.7?"客户活跃度良好！":"建议加强客户维护，提升活跃度。"}<br>
      ${N>5?"有较多非活跃客户，建议重新激活。":""}`}catch{return"获取客户数据失败，请稍后重试。"}},q=async()=>{var r;try{const i=await bt.getStatistics();return`💰 <strong>订单业绩分析</strong><br><br>
      • 订单总数：<strong>${i.total||0}</strong><br>
      • 总金额：<strong>¥${(i.totalAmount||0).toFixed(2)}</strong><br>
      • 平均金额：<strong>¥${(i.avgAmount||0).toFixed(2)}</strong><br><br>
      
      📊 <strong>订单状态分布</strong><br>
      ${((r=i.byStatus)==null?void 0:r.map(m=>`• ${B(m.status)}: ${m.count} 个`).join("<br>"))||"暂无数据"}<br><br>
      
      💡 <strong>业绩提示</strong><br>
      ${i.total>10?"订单量充足，继续保持！":"建议加强订单转化。"}`}catch{return"获取订单统计失败，请稍后重试。"}},B=r=>({draft:"草稿",pending:"待审批",approved:"已审批",signed:"已签约",executing:"执行中",completed:"已完成"})[r]||r,D=r=>r.includes("客户")||r.includes("创建")?`📘 <strong>创建客户</strong><br><br>
      1. 点击左侧菜单 "客户管理"<br>
      2. 点击右上角 "新建客户" 按钮<br>
      3. 填写客户信息（姓名、公司、联系方式等）<br>
      4. 点击确定保存<br><br>
      💡 小贴士：客户信息越完整，后续跟进越方便！`:r.includes("订单")?`📘 <strong>创建订单</strong><br><br>
      1. 进入 "订单管理" 页面<br>
      2. 点击 "新建订单"<br>
      3. 选择客户和产品<br>
      4. 填写订单金额和条款<br>
      5. 提交审批或直接保存<br><br>
      💡 小贴士：订单需要先创建客户和产品！`:r.includes("权限")?`📘 <strong>权限管理</strong><br><br>
      1. 进入 "角色管理"<br>
      2. 创建或编辑角色<br>
      3. 勾选需要的权限<br>
      4. 在 "用户管理" 中分配角色<br><br>
      💡 小贴士：超级管理员拥有所有权限！`:`📘 <strong>系统使用指南</strong><br><br>
    • <strong>客户管理</strong>：管理客户信息和联系记录<br>
    • <strong>线索管理</strong>：跟踪潜在客户和商机<br>
    • <strong>订单管理</strong>：创建和管理销售订单<br>
    • <strong>任务管理</strong>：安排和跟踪工作任务<br>
    • <strong>数据大屏</strong>：查看业务数据统计<br><br>
    💡 如有具体问题，请详细描述！`,H=r=>{const i=['我理解你的问题。请问能否更具体地描述一下？例如：<br>• "查看客户统计"<br>• "订单分析"<br>• "如何创建订单"',"我可以帮你：<br>• 📊 分析数据和统计<br>• 👥 查询客户信息<br>• 💰 了解订单情况<br>• 📘 解答系统使用问题",'请尝试这样提问：<br>• "帮我看看数据概览"<br>• "分析一下客户情况"<br>• "如何创建客户？"'];return i[Math.floor(Math.random()*i.length)]},L=r=>r.replace(/\n/g,"<br>"),S=()=>{rt(()=>{z.value&&(z.value.scrollTop=z.value.scrollHeight)})};return(r,i)=>{const m=c("t-icon"),N=c("t-badge"),x=c("t-button"),I=c("t-avatar"),tt=c("t-tag"),E=c("t-tooltip"),R=c("t-space"),st=c("t-alert"),et=c("t-loading"),nt=c("t-input"),ot=c("t-divider"),it=c("t-card");return f(),C("div",ht,[b.value?P("",!0):(f(),O(x,{key:0,class:"ai-float-button",theme:"primary",shape:"circle",size:"large",onClick:l},{icon:n(()=>[t(m,{name:"chat",size:"28px"})]),default:n(()=>[A.value>0?(f(),O(N,{key:0,count:A.value,class:"float-badge"},null,8,["count"])):P("",!0)]),_:1})),t(at,{name:"slide-up"},{default:n(()=>[b.value?(f(),O(it,{key:0,class:"ai-chat-window",bordered:!1},{header:n(()=>[s("div",kt,[s("div",wt,[t(I,{size:"medium"},{icon:n(()=>[t(m,{name:"service"})]),_:1}),s("div",yt,[i[4]||(i[4]=s("div",{class:"title"},"AI智能助手",-1)),s("div",$t,[t(tt,{theme:"success",variant:"light",size:"small"},{icon:n(()=>[...i[2]||(i[2]=[s("span",{class:"status-dot"},null,-1)])]),default:n(()=>[i[3]||(i[3]=a(" 在线 ",-1))]),_:1})])])]),s("div",xt,[t(R,{size:4},{default:n(()=>[t(E,{content:"清空对话"},{default:n(()=>[t(x,{theme:"default",variant:"text",shape:"square",onClick:o},{icon:n(()=>[t(m,{name:"delete"})]),_:1})]),_:1}),t(E,{content:"最小化"},{default:n(()=>[t(x,{theme:"default",variant:"text",shape:"square",onClick:l},{icon:n(()=>[t(m,{name:"chevron-down"})]),_:1})]),_:1})]),_:1})])])]),footer:n(()=>[s("div",Vt,[t(R,{direction:"vertical",size:"small",style:{width:"100%"}},{default:n(()=>[s("div",jt,[t(nt,{modelValue:v.value,"onUpdate:modelValue":i[0]||(i[0]=p=>v.value=p),placeholder:"输入你的问题，按 Enter 发送...",onKeydown:[Y(Z(u,["exact"]),["enter"]),i[1]||(i[1]=Y(Z(p=>v.value+=`
`,["ctrl","exact"]),["enter"]))]},null,8,["modelValue","onKeydown"]),t(x,{theme:"primary",onClick:u,loading:_.value,disabled:!v.value.trim(),class:"send-button"},{icon:n(()=>[t(m,{name:"send"})]),_:1},8,["loading","disabled"])]),s("div",Ut,[t(R,{size:12,align:"center"},{default:n(()=>[s("span",Ft,[t(m,{name:"keyboard",size:"14px"}),i[6]||(i[6]=a(" Enter 发送 ",-1))]),t(ot,{layout:"vertical"}),s("span",Et,[t(m,{name:"tips",size:"14px"}),i[7]||(i[7]=a(" Ctrl+Enter 换行 ",-1))])]),_:1})])]),_:1})])]),default:n(()=>[g.value.length===0?(f(),C("div",Ct,[t(st,{theme:"info","close-btn":!1,class:"welcome-alert"},{icon:n(()=>[t(m,{name:"tips"})]),default:n(()=>[i[5]||(i[5]=a(" 你好！我是AI智能助手，可以帮你分析数据、查询信息、解答问题 ",-1))]),_:1}),s("div",zt,[(f(),C(G,null,X(e,p=>t(x,{key:p.id,variant:"outline",block:"",class:"action-card",onClick:J=>d(p)},{icon:n(()=>[t(m,{name:p.icon},null,8,["name"])]),default:n(()=>[a(" "+M(p.text),1)]),_:2},1032,["onClick"])),64))])])):P("",!0),s("div",{class:"chat-messages",ref_key:"messagesContainer",ref:z},[(f(!0),C(G,null,X(g.value,(p,J)=>(f(),C("div",{key:J,class:ct(["message-item",p.role])},[p.role==="assistant"?(f(),C("div",At,[t(I,{size:"medium",class:"message-avatar"},{icon:n(()=>[t(m,{name:"service"})]),_:1}),s("div",Tt,[s("div",Mt,[s("div",{class:"message-text",innerHTML:L(p.content)},null,8,St)]),s("div",Pt,M(p.timestamp),1)])])):(f(),C("div",Lt,[s("div",Nt,[s("div",It,[s("div",{class:"message-text",innerHTML:L(p.content)},null,8,Ot)]),s("div",qt,M(p.timestamp),1)]),t(I,{size:"medium",class:"message-avatar"},{default:n(()=>{var Q,K,W;return[a(M(((W=(K=(Q=T.value)==null?void 0:Q.name)==null?void 0:K.charAt(0))==null?void 0:W.toUpperCase())||"U"),1)]}),_:1})]))],2))),128)),_.value?(f(),C("div",Bt,[s("div",Dt,[t(I,{size:"medium",class:"message-avatar"},{icon:n(()=>[t(m,{name:"service"})]),_:1}),s("div",Ht,[s("div",Rt,[t(et,{size:"small",text:"思考中..."})])])])])):P("",!0)],512)]),_:1})):P("",!0)]),_:1})])}}}),Qt=U(Jt,[["__scopeId","data-v-a1e39158"]]),Kt={class:"purchase-button-wrapper"},Wt={class:"purchase-content"},Gt={class:"version-cards"},Xt={class:"version-card pro-version"},Yt={class:"card-header"},Zt={class:"features-list"},ts={class:"feature-item"},ss={class:"feature-item"},es={class:"feature-item"},ns={class:"feature-item"},os={class:"feature-item"},is={class:"feature-item"},ls={class:"feature-item"},as={class:"feature-item"},rs={class:"feature-item"},cs={class:"feature-item"},ds={class:"feature-item"},us={class:"feature-item"},ms={class:"feature-item"},ps={class:"feature-item"},vs={class:"feature-item"},gs={class:"feature-item"},fs={class:"feature-item disabled"},bs={class:"feature-item disabled"},_s={class:"version-card plus-version highlighted"},hs={class:"recommend-badge"},ks={class:"card-header"},ws={class:"features-list"},ys={class:"feature-item"},$s={class:"feature-item highlight"},xs={class:"feature-item highlight"},Cs={class:"feature-item highlight"},zs={class:"feature-item highlight"},As={class:"feature-item highlight"},Ts={class:"feature-item highlight"},Ms={class:"feature-item highlight"},Ss={class:"feature-item highlight"},Ps={class:"feature-item highlight"},Ls={class:"feature-item highlight"},Ns={class:"feature-item highlight"},Is={class:"value-section"},Os={class:"contact-section"},qs={class:"tech-stack"},Bs={class:"tech-tags"},Ds={class:"qrcode-content"},Hs={class:"qrcode-tip"},Rs={class:"qrcode-content"},Vs={class:"qrcode-tip"},js=V({__name:"PurchaseButton",setup(F){const b=y(!1),v=y(!1),g=y(!1),_=()=>{v.value=!0},A=()=>{j.info("当前版本即为Pro版")},z=()=>{g.value=!0};return(T,e)=>{const l=c("t-icon"),o=c("t-button"),d=c("t-tooltip"),u=c("t-alert"),k=c("t-divider"),w=c("t-tag"),$=c("t-dialog");return f(),C("div",Kt,[t(d,{content:"购买源码",placement:"left",visible:!0},{default:n(()=>[t(o,{class:"purchase-float-button",theme:"warning",shape:"circle",size:"large",onClick:e[0]||(e[0]=h=>b.value=!0)},{icon:n(()=>[t(l,{name:"shop",size:"24px"})]),_:1})]),_:1}),t($,{visible:b.value,"onUpdate:visible":e[1]||(e[1]=h=>b.value=h),header:"购买 NO-CRM 源码",width:"680px",footer:!1,attach:"body"},{default:n(()=>[s("div",Wt,[e[53]||(e[53]=s("div",{class:"purchase-header"},[s("h2",null,"🎯 选择适合您的版本"),s("p",{class:"subtitle"},"一次购买，永久使用，无隐藏费用")],-1)),s("div",Gt,[s("div",Xt,[s("div",Yt,[t(l,{name:"star",class:"version-icon"}),e[4]||(e[4]=s("h3",null,"Pro 版",-1)),e[5]||(e[5]=s("div",{class:"version-badge"},"当前版本",-1))]),e[25]||(e[25]=s("div",{class:"price-section"},[s("span",{class:"price-symbol"},"¥"),s("span",{class:"price-amount"},"399"),s("span",{class:"price-unit"},"/永久")],-1)),s("div",Zt,[s("div",ts,[t(l,{name:"check-circle",class:"check-icon"}),e[6]||(e[6]=s("span",null,"完整源代码（前端+后端）",-1))]),s("div",ss,[t(l,{name:"check-circle",class:"check-icon"}),e[7]||(e[7]=s("span",null,"数据大屏与可视化",-1))]),s("div",es,[t(l,{name:"check-circle",class:"check-icon"}),e[8]||(e[8]=s("span",null,"用户/角色/部门管理",-1))]),s("div",ns,[t(l,{name:"check-circle",class:"check-icon"}),e[9]||(e[9]=s("span",null,"细粒度权限控制系统",-1))]),s("div",os,[t(l,{name:"check-circle",class:"check-icon"}),e[10]||(e[10]=s("span",null,"客户/线索管理",-1))]),s("div",is,[t(l,{name:"check-circle",class:"check-icon"}),e[11]||(e[11]=s("span",null,"跟进记录与活动",-1))]),s("div",ls,[t(l,{name:"check-circle",class:"check-icon"}),e[12]||(e[12]=s("span",null,"产品/分类管理",-1))]),s("div",as,[t(l,{name:"check-circle",class:"check-icon"}),e[13]||(e[13]=s("span",null,"订单业绩管理",-1))]),s("div",rs,[t(l,{name:"check-circle",class:"check-icon"}),e[14]||(e[14]=s("span",null,"合同/合同模板",-1))]),s("div",cs,[t(l,{name:"check-circle",class:"check-icon"}),e[15]||(e[15]=s("span",null,"任务管理与分配",-1))]),s("div",ds,[t(l,{name:"check-circle",class:"check-icon"}),e[16]||(e[16]=s("span",null,"审批流程中心",-1))]),s("div",us,[t(l,{name:"check-circle",class:"check-icon"}),e[17]||(e[17]=s("span",null,"表单营销系统",-1))]),s("div",ms,[t(l,{name:"check-circle",class:"check-icon"}),e[18]||(e[18]=s("span",null,"工作流引擎与设计器",-1))]),s("div",ps,[t(l,{name:"check-circle",class:"check-icon"}),e[19]||(e[19]=s("span",null,"工作流待办与分析",-1))]),s("div",vs,[t(l,{name:"check-circle",class:"check-icon"}),e[20]||(e[20]=s("span",null,"AI智能助手",-1))]),s("div",gs,[t(l,{name:"check-circle",class:"check-icon"}),e[21]||(e[21]=s("span",null,"智能推荐系统",-1))]),s("div",fs,[t(l,{name:"close-circle",class:"close-icon"}),e[22]||(e[22]=s("span",null,"后续版本更新",-1))]),s("div",bs,[t(l,{name:"close-circle",class:"close-icon"}),e[23]||(e[23]=s("span",null,"技术支持服务",-1))])]),t(o,{theme:"warning",variant:"outline",block:"",size:"large",class:"buy-button",onClick:A},{default:n(()=>[...e[24]||(e[24]=[a(" 选择 Pro 版 ",-1)])]),_:1})]),s("div",_s,[s("div",hs,[t(l,{name:"thumb-up"}),e[26]||(e[26]=a(" 推荐 ",-1))]),s("div",ks,[t(l,{name:"crown",class:"version-icon"}),e[27]||(e[27]=s("h3",null,"Plus 版",-1)),e[28]||(e[28]=s("div",{class:"version-badge premium"},"持续更新",-1))]),e[42]||(e[42]=s("div",{class:"price-section"},[s("span",{class:"price-symbol"},"¥"),s("span",{class:"price-amount"},"999"),s("span",{class:"price-unit"},"/永久")],-1)),s("div",ws,[s("div",ys,[t(l,{name:"check-circle",class:"check-icon"}),e[29]||(e[29]=s("span",null,"Pro版全部功能",-1))]),s("div",$s,[t(l,{name:"check-circle-filled",class:"check-icon"}),e[30]||(e[30]=s("span",null,"✨ 持续功能迭代",-1))]),s("div",xs,[t(l,{name:"check-circle-filled",class:"check-icon"}),e[31]||(e[31]=s("span",null,"✨ Bug修复与优化",-1))]),s("div",Cs,[t(l,{name:"check-circle-filled",class:"check-icon"}),e[32]||(e[32]=s("span",null,"✨ 新版本免费获取",-1))]),s("div",zs,[t(l,{name:"check-circle-filled",class:"check-icon"}),e[33]||(e[33]=s("span",null,"✨ 技术支持服务",-1))]),s("div",As,[t(l,{name:"check-circle-filled",class:"check-icon"}),e[34]||(e[34]=s("span",null,"✨ 定制开发咨询",-1))]),s("div",Ts,[t(l,{name:"check-circle-filled",class:"check-icon"}),e[35]||(e[35]=s("span",null,"✨ 优先需求响应",-1))]),s("div",Ms,[t(l,{name:"check-circle-filled",class:"check-icon"}),e[36]||(e[36]=s("span",null,"✨ 私有化部署指导",-1))]),s("div",Ss,[t(l,{name:"check-circle-filled",class:"check-icon"}),e[37]||(e[37]=s("span",null,"✨ 专属微信群支持",-1))]),s("div",Ps,[t(l,{name:"check-circle-filled",class:"check-icon"}),e[38]||(e[38]=s("span",null,"✨ 代码架构咨询",-1))]),s("div",Ls,[t(l,{name:"check-circle-filled",class:"check-icon"}),e[39]||(e[39]=s("span",null,"✨ 数据库迁移支持",-1))]),s("div",Ns,[t(l,{name:"check-circle-filled",class:"check-icon"}),e[40]||(e[40]=s("span",null,"✨ 性能优化建议",-1))])]),t(o,{theme:"warning",block:"",size:"large",class:"buy-button",onClick:z},{default:n(()=>[...e[41]||(e[41]=[a(" 选择 Plus 版 🔥 ",-1)])]),_:1})])]),s("div",Is,[t(u,{theme:"success","close-btn":!1},{icon:n(()=>[t(l,{name:"discount"})]),default:n(()=>[e[43]||(e[43]=s("div",{class:"value-tips"},[s("strong",null,"💰 超值回报："),s("span",null,"节省数万元开发成本，2-3周开发周期，即刻部署上线")],-1))]),_:1})]),s("div",Os,[t(k,null,{default:n(()=>[...e[44]||(e[44]=[a("购买咨询",-1)])]),_:1}),t(o,{theme:"primary",variant:"outline",block:"",size:"large",onClick:_},{icon:n(()=>[t(l,{name:"qrcode"})]),default:n(()=>[e[45]||(e[45]=a(" 扫码联系购买 ",-1))]),_:1})]),s("div",qs,[t(k,null,{default:n(()=>[...e[46]||(e[46]=[a("技术栈",-1)])]),_:1}),s("div",Bs,[t(w,{theme:"primary",variant:"light"},{default:n(()=>[...e[47]||(e[47]=[a("Vue 3",-1)])]),_:1}),t(w,{theme:"primary",variant:"light"},{default:n(()=>[...e[48]||(e[48]=[a("TypeScript",-1)])]),_:1}),t(w,{theme:"success",variant:"light"},{default:n(()=>[...e[49]||(e[49]=[a("NestJS 11",-1)])]),_:1}),t(w,{theme:"success",variant:"light"},{default:n(()=>[...e[50]||(e[50]=[a("Node.js",-1)])]),_:1}),t(w,{theme:"warning",variant:"light"},{default:n(()=>[...e[51]||(e[51]=[a("TDesign",-1)])]),_:1}),t(w,{theme:"danger",variant:"light"},{default:n(()=>[...e[52]||(e[52]=[a("JSON 存储",-1)])]),_:1})])])])]),_:1},8,["visible"]),t($,{visible:v.value,"onUpdate:visible":e[2]||(e[2]=h=>v.value=h),header:"扫码联系购买",width:"400px",footer:!1,attach:"body"},{default:n(()=>[s("div",Ds,[e[55]||(e[55]=s("img",{src:"https://flowmix.turntip.cn/fm/static/logo.ce1bcd6a.jpeg",alt:"联系二维码",class:"qrcode-image"},null,-1)),s("p",Hs,[t(l,{name:"info-circle"}),e[54]||(e[54]=a(" 请使用微信扫描二维码添加好友咨询 ",-1))])])]),_:1},8,["visible"]),t($,{visible:g.value,"onUpdate:visible":e[3]||(e[3]=h=>g.value=h),header:"Plus 版正在开发中",width:"400px",footer:!1,attach:"body"},{default:n(()=>[s("div",Rs,[t(u,{theme:"info","close-btn":!1,style:{"margin-bottom":"16px"}},{icon:n(()=>[t(l,{name:"tips"})]),default:n(()=>[e[56]||(e[56]=a(" Plus版正在紧张开发中，敬请期待！ ",-1)),e[57]||(e[57]=s("br",null,null,-1)),e[58]||(e[58]=a(" 如需咨询，请扫码联系作者 ",-1))]),_:1}),e[60]||(e[60]=s("img",{src:"https://flowmix.turntip.cn/fm/static/my.8ee63da4.png",alt:"作者二维码",class:"qrcode-image"},null,-1)),s("p",Vs,[t(l,{name:"info-circle"}),e[59]||(e[59]=a(" 扫码咨询 Plus 版开发进展 ",-1))])])]),_:1},8,["visible"])])}}}),Us=U(js,[["__scopeId","data-v-dd3bf818"]]),Fs={class:"menu-container"},Es={class:"header-content"},Js={class:"header-title"},Qs={class:"header-user"},Ks={style:{"margin-left":"16px"}},Ws=V({__name:"MainLayout",setup(F){const b=dt(),v=ut(),g=mt(),_=y("dashboard");pt(()=>v.name,l=>{if(l){const o=l.toString().toLowerCase();o==="contracttemplates"?_.value="contract-templates":o==="productcategories"?_.value="product-categories":_.value=o}},{immediate:!0});const A=l=>{b.push(`/${l}`)},z=()=>{g.logout(),j.success("已退出登录"),b.push("/login")},T=l=>{window.open(l,"_blank")},e=()=>({dashboard:"数据大屏",customers:"客户管理",leads:"线索管理",activities:"跟进记录",tasks:"任务管理",products:"产品管理","product-categories":"产品分类",orders:"订单管理",approvals:"审批中心",contracts:"合同管理",contracttemplates:"合同模板","contract-templates":"合同模板",recommendations:"智能推荐",users:"用户管理",roles:"角色管理",departments:"部门管理",permissions:"权限查看",forms:"表单营销","workflow-tasks":"工作流待办",workflows:"工作流管理","workflow-designer":"工作流设计","workflow-analytics":"工作流分析"})[_.value]||"NO-CRM";return(l,o)=>{const d=c("t-icon"),u=c("t-menu-item"),k=c("t-menu"),w=c("t-aside"),$=c("t-button"),h=c("t-dropdown-item"),q=c("t-dropdown-menu"),B=c("t-dropdown"),D=c("t-header"),H=c("router-view"),L=c("t-content"),S=c("t-layout");return f(),O(S,{style:{height:"100vh",overflow:"hidden"}},{default:n(()=>[t(w,{width:200,style:{height:"100vh",display:"flex","flex-direction":"column"}},{default:n(()=>[o[23]||(o[23]=s("div",{class:"logo",title:"NO-CRM"},[s("img",{src:_t,alt:"NO-CRM"})],-1)),s("div",Fs,[t(k,{value:_.value,onChange:A},{default:n(()=>[t(u,{value:"dashboard"},{icon:n(()=>[t(d,{name:"dashboard"})]),default:n(()=>[o[3]||(o[3]=a(" 数据大屏 ",-1))]),_:1}),t(u,{value:"users"},{icon:n(()=>[t(d,{name:"user-setting"})]),default:n(()=>[o[4]||(o[4]=a(" 用户管理 ",-1))]),_:1}),t(u,{value:"roles"},{icon:n(()=>[t(d,{name:"lock-on"})]),default:n(()=>[o[5]||(o[5]=a(" 角色管理 ",-1))]),_:1}),t(u,{value:"departments"},{icon:n(()=>[t(d,{name:"usergroup"})]),default:n(()=>[o[6]||(o[6]=a(" 部门管理 ",-1))]),_:1}),t(u,{value:"permissions"},{icon:n(()=>[t(d,{name:"secured"})]),default:n(()=>[o[7]||(o[7]=a(" 权限查看 ",-1))]),_:1}),t(u,{value:"leads"},{icon:n(()=>[t(d,{name:"chart-line"})]),default:n(()=>[o[8]||(o[8]=a(" 线索管理 ",-1))]),_:1}),t(u,{value:"customers"},{icon:n(()=>[t(d,{name:"user"})]),default:n(()=>[o[9]||(o[9]=a(" 客户管理 ",-1))]),_:1}),t(u,{value:"activities"},{icon:n(()=>[t(d,{name:"time"})]),default:n(()=>[o[10]||(o[10]=a(" 跟进记录 ",-1))]),_:1}),t(u,{value:"products"},{icon:n(()=>[t(d,{name:"shop"})]),default:n(()=>[o[11]||(o[11]=a(" 产品管理 ",-1))]),_:1}),t(u,{value:"product-categories"},{icon:n(()=>[t(d,{name:"folder"})]),default:n(()=>[o[12]||(o[12]=a(" 产品分类 ",-1))]),_:1}),t(u,{value:"orders"},{icon:n(()=>[t(d,{name:"order-adjustment-column"})]),default:n(()=>[o[13]||(o[13]=a(" 订单管理 ",-1))]),_:1}),t(u,{value:"contracts"},{icon:n(()=>[t(d,{name:"file-paste"})]),default:n(()=>[o[14]||(o[14]=a(" 合同管理 ",-1))]),_:1}),t(u,{value:"contract-templates"},{icon:n(()=>[t(d,{name:"layers"})]),default:n(()=>[o[15]||(o[15]=a(" 合同模板 ",-1))]),_:1}),t(u,{value:"tasks"},{icon:n(()=>[t(d,{name:"bulletpoint"})]),default:n(()=>[o[16]||(o[16]=a(" 任务管理 ",-1))]),_:1}),t(u,{value:"approvals"},{icon:n(()=>[t(d,{name:"check-circle"})]),default:n(()=>[o[17]||(o[17]=a(" 审批中心 ",-1))]),_:1}),t(u,{value:"forms"},{icon:n(()=>[t(d,{name:"form"})]),default:n(()=>[o[18]||(o[18]=a(" 表单营销 ",-1))]),_:1}),t(u,{value:"workflow-tasks"},{icon:n(()=>[t(d,{name:"queue"})]),default:n(()=>[o[19]||(o[19]=a(" 工作流待办 ",-1))]),_:1}),t(u,{value:"workflows"},{icon:n(()=>[t(d,{name:"control-platform"})]),default:n(()=>[o[20]||(o[20]=a(" 工作流管理 ",-1))]),_:1}),t(u,{value:"workflow-analytics"},{icon:n(()=>[t(d,{name:"chart-pie"})]),default:n(()=>[o[21]||(o[21]=a(" 工作流分析 ",-1))]),_:1}),t(u,{value:"recommendations"},{icon:n(()=>[t(d,{name:"chart-bubble"})]),default:n(()=>[o[22]||(o[22]=a(" 智能推荐 ",-1))]),_:1})]),_:1},8,["value"])])]),_:1}),t(S,{style:{height:"100vh",display:"flex","flex-direction":"column"}},{default:n(()=>[t(D,{style:{"flex-shrink":"0"}},{default:n(()=>{var r;return[s("div",Es,[s("div",Js,M(e()),1),s("div",Qs,[t(B,{trigger:"hover","min-column-width":180},{default:n(()=>[t($,{theme:"default",variant:"text",size:"small"},{suffix:n(()=>[t(d,{name:"chevron-down",size:"16px"})]),default:n(()=>[o[24]||(o[24]=a(" 更多产品 ",-1))]),_:1}),t(q,null,{default:n(()=>[t(h,{onClick:o[0]||(o[0]=i=>T("https://jitword.com"))},{default:n(()=>[t(d,{name:"file-word",style:{"margin-right":"8px"}}),o[25]||(o[25]=a(" JitWord 协同文档 ",-1))]),_:1}),t(h,{onClick:o[1]||(o[1]=i=>T("http://pxcharts.com"))},{default:n(()=>[t(d,{name:"chart-bar",style:{"margin-right":"8px"}}),o[26]||(o[26]=a(" PxCharts 多维表格 ",-1))]),_:1}),t(h,{onClick:o[2]||(o[2]=i=>T("https://mindlink.turntip.cn"))},{default:n(()=>[t(d,{name:"lightbulb",style:{"margin-right":"8px"}}),o[27]||(o[27]=a(" 灵语文档 ",-1))]),_:1})]),_:1})]),_:1}),t($,{theme:"primary",size:"small",style:{"margin-left":"16px"}},{default:n(()=>[...o[28]||(o[28]=[s("a",{href:"https://flowmix.turntip.cn/fm/static/logo.ce1bcd6a.jpeg",style:{color:"#fff","text-decoration":"none"},target:"_blank"},"联系咨询",-1)])]),_:1}),s("span",Ks,M((r=vt(g).user)==null?void 0:r.name),1),t($,{theme:"default",size:"small",onClick:z,style:{"margin-left":"16px"}},{default:n(()=>[...o[29]||(o[29]=[a(" 退出登录 ",-1)])]),_:1})])])]}),_:1}),t(L,{class:"main-content"},{default:n(()=>[t(H)]),_:1})]),_:1}),t(Qt),t(Us)]),_:1})}}}),te=U(Ws,[["__scopeId","data-v-da62d4b8"]]);export{te as default};
