import{p as P}from"./permission-D5fcBuTN.js";import{d as V,r as m,l as A,b as t,c as i,e as u,h as s,w as o,i as g,m as F,o as n,F as G,f as $,p as z,t as D,M as E,_ as I}from"./index-BQBF81MK.js";const L={class:"permissions-page"},R={class:"page-header"},S={key:0},T=V({__name:"Permissions",setup(j){const c=m(!1),l=m(null),f=[{colKey:"name",title:"权限名称",width:200},{colKey:"code",title:"权限编码",width:250},{colKey:"action",title:"操作类型",width:120,cell:"action"},{colKey:"description",title:"描述",ellipsis:!0}],y={customer:"客户",lead:"线索",activity:"跟进记录",task:"任务",product:"产品",product_category:"产品分类",order:"订单",contract:"合同",contract_template:"合同模板",user:"用户",role:"角色",department:"部门",permission:"权限",statistics:"统计报表",system:"系统设置"},h={read:"查看",create:"创建",update:"编辑",delete:"删除",export:"导出",import:"导入",approve:"审批",manage:"管理"},v=e=>y[e]||e,k=e=>h[e]||e,d=async()=>{var e,a;c.value=!0;try{l.value=await P.getGrouped()}catch(r){E.error(((a=(e=r.response)==null?void 0:e.data)==null?void 0:a.message)||"加载权限列表失败")}finally{c.value=!1}};return A(()=>{d()}),(e,a)=>{const r=t("t-icon"),N=t("t-button"),w=t("t-tag"),x=t("t-table"),b=t("t-collapse-panel"),C=t("t-collapse"),M=t("t-loading"),B=t("t-card");return n(),i("div",L,[u("div",R,[a[1]||(a[1]=u("h2",null,"权限管理",-1)),s(N,{theme:"primary",onClick:d},{icon:o(()=>[s(r,{name:"refresh"})]),default:o(()=>[a[0]||(a[0]=g(" 刷新 ",-1))]),_:1})]),s(B,null,{default:o(()=>[s(M,{loading:c.value},{default:o(()=>[l.value?(n(),i("div",S,[s(C,null,{default:o(()=>[(n(!0),i(G,null,$(l.value,(p,_)=>(n(),z(b,{key:_,header:`${v(_)} (${p.length}个权限)`},{default:o(()=>[s(x,{data:p,columns:f,"row-key":"id",size:"small"},{action:o(({row:K})=>[s(w,{theme:"success",variant:"outline"},{default:o(()=>[g(D(k(K.action)),1)]),_:2},1024)]),_:1},8,["data"])]),_:2},1032,["header"]))),128))]),_:1})])):F("",!0)]),_:1},8,["loading"])]),_:1})])}}}),J=I(T,[["__scopeId","data-v-acc7c66d"]]);export{J as default};
